{% extends "layout.html" %}
{% block content %}
<div class="puppy_list">
  {% for puppy in puppies %}
  <div class="puppy_card">
    {% if puppy.profile.picture and puppy.profile.picture|length %}
    <img class="puppy_card_photo"
         src="{{ puppy.profile.picture }}"
         alt="A puppy named {{ puppy.name }}"/>
    {% endif %}
    <div class="puppy_info">
      <a href="{{ url_for('puppies.profile', puppy_id=puppy.id) }}">
        <h3 class="puppy_name">{{ puppy.name }}</h3>
      </a>
      <div class="puppy_home">
        {% if puppy.adopters and puppy.adopters|length %}
          {{ "ADOPTED BY %s" % ", ".join(puppy.adopters|names).upper() }}
        {% elif puppy.shelter %}
          {{ "LIVING AT %s" % puppy.shelter.name.upper() }}
        {% else %}
          NO HOME
        {% endif %}
      </div>
      {% if puppy.profile.description and puppy.profile.description|length %}
      <div class="puppy_description">{{ puppy.profile.description }}</div>
      {% endif %}
      <div class="puppy_fact puppy_gender"><strong>Gender:</strong> {{ puppy.gender }}</div>
      <div class="puppy_fact puppy_birthdate"><strong>Birthdate:</strong> {{ puppy.date_of_birth }}</div>
      <div class="puppy_fact puppy_weight"><strong>Weight:</strong> {{ "%.1f" % puppy.weight_lbs }} lbs.</div>
      {% if puppy.profile.description and puppy.profile.description|length %}
      <div class="puppy_fact puppy_special_needs"><strong>Special needs:</strong> {{ puppy.profile.special_needs }}</div>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}

{% block pagenav %}
{% if page and pagelimit and pagelimit > 1 %}
<div class="page_nav">
  {% for i in range(1, pagelimit+1) %}
  <span class="page_number {% if i == page %}current{% endif %}">
    <a href="{{ url_for('puppies.list_all', p=i) }}">{{ i }}</a>
  </span>
  {% endfor %}
</div>
{% endif %}
{% endblock %}