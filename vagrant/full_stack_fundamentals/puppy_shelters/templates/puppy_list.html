{% extends "layout.html" %}
{% block content %}
<ul>
  {% for puppy in puppies %}
  <div class="puppy_card">
    {% if puppy.profile.picture and puppy.profile.picture | length %}
    <img class="puppy_card_photo"
         src="{{ puppy.profile.picture }}"
         alt="A puppy named {{ puppy.name }}"/>
    {% endif %}
    <div class="puppy_info">
      <a href="{{ url_for('puppy', puppy_id=puppy.id) }}">
        <h3 class="puppy_name">{{ puppy.name }}</h3>
      </a>
      <div class="puppy_home">
        {% if puppy.adopters and puppy.adopters | length %}
          {{ "ADOPTED BY %s" % ", ".join(puppy.adopters | names).upper() }}
        {% elif puppy.shelter %}
          {{ "LIVING AT %s" % puppy.shelter.name.upper() }}
        {% else %}
          NO HOME
        {% endif %}
      </div>
      {% if puppy.profile.description and puppy.profile.description | length %}
      <div class="puppy_description">{{ puppy.profile.description }}</div>
      {% endif %}
      <div class="puppy_fact puppy_gender"><strong>Gender:</strong> {{ puppy.gender }}</div>
      <div class="puppy_fact puppy_birthdate"><strong>Birthdate:</strong> {{ puppy.date_of_birth }}</div>
      <div class="puppy_fact puppy_weight"><strong>Weight:</strong> {{ "%.1f" % puppy.weight_lbs }} lbs.</div>
      {% if puppy.profile.description and puppy.profile.description | length %}
      <div class="puppy_fact puppy_special_needs"><strong>Special needs:</strong> {{ puppy.profile.special_needs }}</div>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</ul>
{% endblock %}